# 싹다 고쳐야함, 아래는 완전무시

# 노드들의 그래프 구성
1 노드의 그래프는 트리 구조로 구성한다
2 자식노드의 개수는 일단은 신경쓰지 않는다
3 중간에 이탈하는 노드는 부모노드와 자식노드 들에게 자신의 이탈을 알리고, 다른 노드들이 재구성을 마침을 확인하면 이탈한다.

# 노드들의 데이터 접근
1 특정 데이터에 접근하기 전, 자신의 부모와 자식 노드들에게 lock 메시지를 전송한다
2 자식노드는 자신의 자식에게, 부모는 자신의 부모에게 재귀적으로 lock 메시지를 전송한다
3 이미 해당 데이터에 대해 lcok 메시지를 받은 노드가 해당 데이터에 대한 또다른 lock을 받으면, 두 lock을 비교해 더 우선순위가 높은 lock의 unlock을 대기하고 다른 lock메시지는 확산하지 않고 다른 lock의 unlock을 대기한다. (모든 노드는 lock의 우선순위 비교에 대한 동일한 기준을 지녀야한다)
4 전달받은 메시지를 재전송할 대상이 없다면 lock allow를 응답한다.
5 각 노드는 자신이 lock메시지를 전송한 모든 노드로부터 allow를 응답받으면 자신에게 lock을 보낸 노드에게 allow를 응답한다.
6 처음 lock을 요구한 노드는 lock권한을 얻는다. 적절한 작업 후 lock과 비슷한 방식으로 unlock을 전송한다. unlock은 별도 응답이 필요없다.
